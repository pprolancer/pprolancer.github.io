<ons-page id="new-message-page" ng-controller="ChooseRecipientCtrl">
    <ons-toolbar>
        <div class="left">
            <ons-back-button>Back</ons-back-button>
        </div>
        <div class="center">Choose Recipient...</div>
        <div class="right">
            <ons-toolbar-button component="button/save-task" ng-click="" ng-disabled="true">
                <ons-icon icon="md-search"></ons-icon>
            </ons-toolbar-button>
        </div>
    </ons-toolbar>
    <ons-list>
        <ons-list-header>Friends joined twitterypt:</ons-list-header>
        <ons-list-item tappable ng-repeat="f in friends | filter:{joined: true} | orderBy:'name'" ng-click="navi.replacePage('app/html/pages/new_message.html', {data: {recipient: f}}, $event)">
            <div class="left">
                <img class="list-item__thumbnail" ng-src="{{f.profile_image_url}}" err-src="resources/images/avatar-error.jpg" >
            </div>
            <span class="list-item__title">{{f.name}}</span><span class="list-item__subtitle">@{{f.screen_name}}</span>
            <span class="right">
                <ons-icon icon="md-chevron-right"></ons-icon>
            </span>
        </ons-list-item>
        <ons-list-item ng-show="!friends.length">
            <em>No Friend joined!</em>
        </ons-list-item>
    </ons-list>
</ons-page>
